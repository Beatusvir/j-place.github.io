<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Swim Feed</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
	<div class="container-fluid">
		<div class="page-header sticky-top">
			<h1 class="col-12 page-title">Swim Log</h1>
			<!-- Swimmer Bio -->

			<div class="swimmer-bio">
				<div id="bioWrapper" class="col-12 bio-wrapper"></div>
			</div>

			<!-- Nav tabs -->
			<ul class="nav nav-tabs" role="tablist">
			  <li class="nav-item">
			    <a class="nav-link active" href="#swim-log" role="tab" data-toggle="tab">Recent Swims</a>
			  </li>
			  <li class="nav-item">
			    <a class="nav-link" href="#personal-records" role="tab" data-toggle="tab">Personal Records</a>
			  </li>
			</ul>

		</div>
		<!-- Tab panes -->
		<div class="tab-content">
		<!-- Swim Log Panel -->
		  <div role="tabpanel" class="tab-pane fade in active show" id="swim-log">
				<div class="">
					<!-- Handlebars injects html here -->
					<div id="swimsWrapper" class="swims-wrapper"></div>
				</div>
		  </div>
		  <!-- Personal Records Panel -->
		  <div role="tabpanel" class="tab-pane fade" id="personal-records">
		  	<div id="recordsWrapper" class="records-wrapper"></div>
		  </div>
		</div>
	</div>
	<script id="bioTemplate" type="text/x-handlebars-template">
		<div class="row">
			<div class="col-12">
				<h3 class="bio__name">{{name}}</h3>
				<h4 class="bio__club">{{club}}</h4>
				<div class="bio__total-swims">
					<label class="bio__item--label">Total Swims</label>
					<h5 class="bio__item--title">
						{{totalSwimCount}}
					</h5>
				</div>
				<div class="bio__total-distance">
					<label class="bio__item--label">Total Distance</label>
					<h5 class="bio__item--title">
						{{totalDistanceYards}} yards
					</h5>
				</div>
			</div>
		</div>
		<!--
		<div class="row">
			<div class="col-12" style="margin-top: 1rem;">
				<div class="bio__total-swims">
					<label class="bio__item--label">Total Swims</label>
					<h5 class="bio__item--title">
						{{totalSwimCount}}
					</h5>
				</div>
				<div class="bio__total-distance">
					<label class="bio__item--label">Total Distance</label>
					<h5 class="bio__item--title">
						{{totalDistanceYards}} yards
					</h5>
				</div>
			</div>
		</div>
		-->
	</script>
	<script id="swimTemplate" type="text/x-handlebars-template">
		{{#each swims}}
			<div class="feed__item">
				<div class="row">
					<div class="col-12">
						{{#if swimPr}}
							<div class="badge__pr">
								<span class="pr__badge--icon">&#9819;</span>
								<span class="pr__badge--label">New Personal Record
							</div>
						{{/if}}
					</div>	
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="row">
							<div class="col-sm-8">
								<div class="feed__item--date">{{swimDate}}</div>
								<div class="feed__item--location">{{swimLocation}}</div>
								<h5 class="feed__item--title">{{swimTitle}}</h5>
							</div>
							<div class="col-sm-4" class="feed__item--data-source">
								<div id="swimDataSource" class="feed__item--tracker">
									{{#if swimDataSource}}
										<img id="trackerImage" class="feed__item--tracker-image" src="https://static.garmincdn.com/en/products/010-01769-01/v/cf-lg-f1ecd357-fab5-4120-87f1-52b7a5d7d1fc.jpg" width="28px" >
										<p class="feed__item--tracker-name">{{swimDataSource}}</p>
									{{/if}}
								</div>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="row">
							<div class="col-4 col-sm-3 text-center">
								<label class="feed__item--label">Distance</label>
								<p class="feed__item--distance">{{swimDistanceYards}}y</p>
							</div>
							<div class="col-4 col-sm-3 text-center">
								<label class="feed__item--label">Pace/100y</label>
								<p class="feed__item--pace">{{swimPace100y}}</p>
							</div>
							<div class="col-4 col-sm-3 text-center">
								<label class="feed__item--label">Time</label>
								<p class="feed__item--time">{{swimTime}}</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		{{/each}}
	</script>
	<script id="recordsTemplate" type="text/x-handlebars-template">
		{{#each records }}
			<div class="record__item">
				<div class="row">
					<div class="col-sm-3">
						<p class="record__item--date">{{recordDate}}</p>
						<h5 class="record__item--name">{{recordName}}</h5>
					</div>
					<div class="col-sm-6">
						{{#if recordDistanceYards }}
							<label class="feed__item--label">Distance</label>
							<h3 class="record__item--distance">{{recordDistanceYards}}y</h3>
						{{/if}}
						{{#if recordTime }}
							<label class="feed__item--label">Time</label>
							<h3 class="record__item--time">{{recordTime}}</h3>
						{{/if}}
					</div>
					<div class="col-sm-3"></div>
					<div class="col-sm-3"></div>
				</div>
			</div>
		{{/each}}
	</script>
	<script type="text/javascript" src="js/handlebars-v4.1.0.js"></script>
	<script type="text/javascript" src="js/jquery-3.3.1.js"></script>
	<script type="text/javascript" src="js/bootstrap.js"></script>
	<script type="text/javascript" src="js/index.js"></script>
	
</body>
</html>
